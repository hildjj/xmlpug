<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>xmlpug</title><meta name="description" content="Documentation for xmlpug"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">xmlpug</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>xmlpug</h1></div><div class="tsd-panel tsd-typography"><p>Use <a href="https://pugjs.org">Pug</a> to transform XML, instead of
<a href="http://www.w3.org/TR/xslt">XSLT</a>.  Why?  At my office, we call the XSLT book
the <em>Token of Pain</em>.  Whoever touched the XSLT code last has it on their desk,
and is responsible for being the current expert.  That person hates their
life until someone else needs the book badly enough to take on the pain.</p>
<p>Also, you can't easily generate HTML5 with XSLT because of the doctype and tags
like <code>&lt;meta&gt;</code> that don't get closed.</p>
<h1 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><pre><code>npm install -g xmlpug
</code></pre>
<h1 id="example" class="tsd-anchor-link">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Write templates like this:</p>
<pre><code><span class="hl-0">doctype</span><span class="hl-1"> </span><span class="hl-0">html</span><br/><span class="hl-0">html</span><br/><span class="hl-1">  </span><span class="hl-0">head</span><br/><span class="hl-1">    </span><span class="hl-2">meta</span><span class="hl-1">(</span><span class="hl-0">charset</span><span class="hl-1">=</span><span class="hl-3">&#39;utf-8&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-2">meta</span><span class="hl-1">(</span><span class="hl-0">name</span><span class="hl-1">=</span><span class="hl-3">&#39;author&#39;</span><span class="hl-1">, </span><span class="hl-0">content</span><span class="hl-1">=</span><span class="hl-2">$$</span><span class="hl-1">(</span><span class="hl-3">&#39;front/author/@fullname&#39;</span><span class="hl-1">))</span><br/><span class="hl-1">    </span><span class="hl-0">title</span><span class="hl-1">= </span><span class="hl-2">$</span><span class="hl-1">(</span><span class="hl-3">&#39;front/title/text()&#39;</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>

<p>where the <code>$</code> and <code>$$</code> functions perform xpath queries in a source XML document.  <code>$</code> returns the first match, or <code>null</code>.  <code>$$</code> always returns an array of all of the matches.  So given the following XML input:</p>
<pre><code><span class="hl-1">&lt;</span><span class="hl-4">rfc</span><span class="hl-1">&gt;</span><br/><span class="hl-1">  &lt;</span><span class="hl-4">front</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    &lt;</span><span class="hl-0">title</span><span class="hl-1"> </span><span class="hl-0">abbrev</span><span class="hl-1">=</span><span class="hl-3">&quot;HTML RFC&quot;</span><span class="hl-1">&gt;</span><span class="hl-0">HyperText</span><span class="hl-1"> </span><span class="hl-0">Markup</span><span class="hl-1"> </span><span class="hl-0">Language</span><span class="hl-1"> </span><span class="hl-0">Request</span><span class="hl-1"> </span><span class="hl-0">For</span><span class="hl-1"> </span><span class="hl-0">Comments</span><span class="hl-1"> </span><span class="hl-0">Format</span><span class="hl-1">&lt;/</span><span class="hl-0">title</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    &lt;</span><span class="hl-0">author</span><span class="hl-1"> </span><span class="hl-0">initials</span><span class="hl-1">=</span><span class="hl-3">&quot;J.&quot;</span><span class="hl-1"> </span><span class="hl-0">surname</span><span class="hl-1">=</span><span class="hl-3">&quot;Hildebrand&quot;</span><span class="hl-1"> </span><span class="hl-0">fullname</span><span class="hl-1">=</span><span class="hl-3">&quot;Joe Hildebrand&quot;</span><span class="hl-1"> </span><span class="hl-0">role</span><span class="hl-1">=</span><span class="hl-3">&quot;editor&quot;</span><span class="hl-1">/&gt;</span><br/><span class="hl-1">    &lt;</span><span class="hl-0">author</span><span class="hl-1"> </span><span class="hl-0">initials</span><span class="hl-1">=</span><span class="hl-3">&quot;H.&quot;</span><span class="hl-1"> </span><span class="hl-0">surname</span><span class="hl-1">=</span><span class="hl-3">&quot;Flanagan&quot;</span><span class="hl-1"> </span><span class="hl-0">fullname</span><span class="hl-1">=</span><span class="hl-3">&quot;Heather Flanagan&quot;</span><span class="hl-1"> </span><span class="hl-0">role</span><span class="hl-1">=</span><span class="hl-3">&quot;editor&quot;</span><span class="hl-1">/&gt;</span><br/><span class="hl-1">  &lt;/</span><span class="hl-0">front</span><span class="hl-1">&gt;</span><br/><span class="hl-1">&lt;/</span><span class="hl-0">rfc</span><span class="hl-1">&gt;</span><br/>
</code><button>Copy</button></pre>

<p>the above template would generate:</p>
<pre><code><span class="hl-1">&lt;!</span><span class="hl-5">DOCTYPE</span><span class="hl-1"> </span><span class="hl-0">html</span><span class="hl-1">&gt;</span><br/><span class="hl-1">&lt;</span><span class="hl-4">html</span><span class="hl-1">&gt;</span><br/><span class="hl-1">  &lt;</span><span class="hl-4">head</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    &lt;</span><span class="hl-0">meta</span><span class="hl-1"> </span><span class="hl-0">charset</span><span class="hl-1">=</span><span class="hl-3">&quot;utf-8&quot;</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    &lt;</span><span class="hl-0">meta</span><span class="hl-1"> </span><span class="hl-0">name</span><span class="hl-1">=</span><span class="hl-3">&quot;author&quot;</span><span class="hl-1"> </span><span class="hl-0">content</span><span class="hl-1">=</span><span class="hl-3">&quot;Joe Hildebrand,Heather Flanagan&quot;</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    &lt;</span><span class="hl-4">title</span><span class="hl-1">&gt;</span><span class="hl-0">HyperText</span><span class="hl-1"> </span><span class="hl-0">Markup</span><span class="hl-1"> </span><span class="hl-0">Language</span><span class="hl-1"> </span><span class="hl-0">Request</span><span class="hl-1"> </span><span class="hl-0">For</span><span class="hl-1"> </span><span class="hl-0">Comments</span><span class="hl-1"> </span><span class="hl-0">Format</span><span class="hl-1">&lt;/</span><span class="hl-0">title</span><span class="hl-1">&gt;</span><br/><span class="hl-1">  &lt;/</span><span class="hl-0">head</span><span class="hl-1">&gt;</span><br/><span class="hl-1">&lt;/</span><span class="hl-0">html</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<h1 id="pug-extensions" class="tsd-anchor-link">Pug Extensions<a href="#pug-extensions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The added JavaScript features available in the template are:</p>
<ul>
<li><code>$(string, element)</code>: perform an XPath query against the input document, returning the first match.  Text nodes are converted to strings, and attribute nodes are converted to the string versions of their values. If no matches are found, returns <code>null</code>.  If an element is provided, search within that element, otherwise search from the root of the input document.</li>
<li><code>$$(string, element)</code>: perform an XPath query against the input document, returning all of the matches as an array.  Text nodes are converted to strings, and attribute nodes are converted to the string versions of their values. If no matches are found, returns <code>[]</code>.  If an element is provided, search within that element, otherwise search from the root of the input document.</li>
<li><code>$att(element, string)</code>: gets the text value of an attribute from an element with the name specified in the string.  Returns <code>null</code> on errors.</li>
<li><code>$source</code>: a Buffer containing the original XML source before parsing</li>
<li><code>require(string)</code>: wrapper around normal node <code>require</code> allowing it to work in a template.  Can import ES6 modules that
have no async in the load path.</li>
<li><code>version</code>: the name and version number of xmlpug</li>
</ul>
<h1 id="command-line" class="tsd-anchor-link">Command Line<a href="#command-line" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><pre><code><span class="hl-6">Usage</span><span class="hl-1">: </span><span class="hl-0">xmlpug</span><span class="hl-1"> [</span><span class="hl-0">options</span><span class="hl-1">] &lt;</span><span class="hl-0">template</span><span class="hl-1">&gt; [</span><span class="hl-0">input</span><span class="hl-1">...]</span><br/><br/><span class="hl-6">Options</span><span class="hl-1">:</span><br/><span class="hl-1">  -</span><span class="hl-5">V</span><span class="hl-1">, --</span><span class="hl-0">version</span><span class="hl-1">               </span><span class="hl-0">output</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">version</span><span class="hl-1"> </span><span class="hl-0">number</span><br/><span class="hl-1">  -</span><span class="hl-0">c</span><span class="hl-1">, --</span><span class="hl-0">config</span><span class="hl-1"> &lt;</span><span class="hl-0">file</span><span class="hl-1">&gt;         </span><span class="hl-0">Config</span><span class="hl-1"> </span><span class="hl-0">file</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-2">read</span><span class="hl-1"> (</span><span class="hl-0">default</span><span class="hl-1">: </span><span class="hl-3">&quot;./.xmlpug.json&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  -</span><span class="hl-5">C</span><span class="hl-1">, --</span><span class="hl-0">colors</span><span class="hl-1">                </span><span class="hl-0">Force</span><span class="hl-1"> </span><span class="hl-0">color</span><span class="hl-1"> </span><span class="hl-0">output</span><br/><span class="hl-1">  --</span><span class="hl-0">no</span><span class="hl-1">-</span><span class="hl-0">colors</span><span class="hl-1">                 </span><span class="hl-0">Force</span><span class="hl-1"> </span><span class="hl-0">non</span><span class="hl-1">-</span><span class="hl-0">color</span><span class="hl-1"> </span><span class="hl-0">output</span><br/><span class="hl-1">  -</span><span class="hl-0">d</span><span class="hl-1">, --</span><span class="hl-0">debug</span><span class="hl-1">                 </span><span class="hl-0">Add</span><span class="hl-1"> </span><span class="hl-0">Pug</span><span class="hl-1"> </span><span class="hl-0">debug</span><span class="hl-1"> </span><span class="hl-0">information</span><br/><span class="hl-1">  -</span><span class="hl-5">D</span><span class="hl-1">, --</span><span class="hl-0">define</span><span class="hl-1"> &lt;</span><span class="hl-0">name</span><span class="hl-1">=</span><span class="hl-0">string</span><span class="hl-1">&gt;  </span><span class="hl-0">Define</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1"> </span><span class="hl-0">global</span><span class="hl-1"> </span><span class="hl-2">variable</span><span class="hl-1"> (</span><span class="hl-0">default</span><span class="hl-1">: {})</span><br/><span class="hl-1">  -</span><span class="hl-0">o</span><span class="hl-1">, --</span><span class="hl-0">output</span><span class="hl-1"> &lt;</span><span class="hl-0">file</span><span class="hl-1">&gt;         </span><span class="hl-0">Output</span><span class="hl-1"> </span><span class="hl-2">file</span><span class="hl-1"> (</span><span class="hl-0">default</span><span class="hl-1">: </span><span class="hl-3">&quot;-&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  -</span><span class="hl-0">p</span><span class="hl-1">, --</span><span class="hl-0">pretty</span><span class="hl-1">                </span><span class="hl-0">Pretty</span><span class="hl-1"> </span><span class="hl-0">print</span><br/><span class="hl-1">  -</span><span class="hl-0">q</span><span class="hl-1">, --</span><span class="hl-0">doublequote</span><span class="hl-1">           </span><span class="hl-0">Use</span><span class="hl-1"> </span><span class="hl-0">doublequotes</span><span class="hl-1"> </span><span class="hl-0">instead</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-0">single</span><br/><span class="hl-1">  --</span><span class="hl-0">html</span><span class="hl-1">                      </span><span class="hl-5">HTML</span><span class="hl-1"> </span><span class="hl-0">output</span><span class="hl-1">; </span><span class="hl-0">only</span><span class="hl-1"> </span><span class="hl-0">useful</span><span class="hl-1"> </span><span class="hl-0">for</span><span class="hl-1"> </span><span class="hl-0">pretty</span><span class="hl-1"> </span><span class="hl-0">printing</span><br/><span class="hl-1">  --</span><span class="hl-0">xml</span><span class="hl-1">                       </span><span class="hl-0">Force</span><span class="hl-1"> </span><span class="hl-5">XML</span><span class="hl-1"> </span><span class="hl-0">output</span><span class="hl-1"> </span><span class="hl-0">for</span><span class="hl-1"> </span><span class="hl-5">XHTML</span><br/><span class="hl-1">  -</span><span class="hl-0">h</span><span class="hl-1">, --</span><span class="hl-0">help</span><span class="hl-1">                  </span><span class="hl-0">display</span><span class="hl-1"> </span><span class="hl-0">help</span><span class="hl-1"> </span><span class="hl-0">for</span><span class="hl-1"> </span><span class="hl-0">command</span>
</code><button>Copy</button></pre>

<h1 id="apis" class="tsd-anchor-link">APIs<a href="#apis" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Full <a href="http://hildjj.github.io/xmlpug/">API docs</a> are available.</p>
<p><a href="https://github.com/hildjj/xmlpug/actions/workflows/node.js.yml"><img src="https://github.com/hildjj/xmlpug/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a>
<a href="https://codecov.io/gh/hildjj/xmlpug"><img src="https://codecov.io/gh/hildjj/xmlpug/branch/main/graph/badge.svg?token=FkJe6b3bIS" alt="codecov"></a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#installation"><span>Installation</span></a><a href="#example"><span>Example</span></a><a href="#pug-extensions"><span>Pug <wbr/>Extensions</span></a><a href="#command-line"><span>Command <wbr/>Line</span></a><a href="#apis"><span>AP<wbr/>Is</span></a></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://pugjs.org/">Pug</a><a href="https://github.com/hildjj/xmlpug/">GitHub</a><a href="http://hildjj.github.io/xmlpug/">Documentation</a></nav><nav class="tsd-navigation"><a href="modules.html">xmlpug</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
